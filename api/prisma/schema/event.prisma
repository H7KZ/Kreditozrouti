// event.prisma

model Event {
    id        String   @id @default(uuid()) @db.VarChar(255)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    title            String?   @db.VarChar(255)
    subtitle         String?   @db.VarChar(255)
    datetime         DateTime?
    imageSrc         String?   @db.VarChar(255)
    imageAlt         String?   @db.VarChar(255)
    description      String?   @db.Text
    place            String?   @db.VarChar(255)
    author           String?   @db.VarChar(255)
    language         String?   @db.VarChar(4)
    registrationFrom DateTime?
    registrationUrl  String?   @db.VarChar(255)
    substituteUrl    String?   @db.VarChar(255)

    categories Category[] @relation("EventCategories")

    eventsCategories EventsCategories[]

    @@map("events")
}

model EventsCategories {
    eventId    String   @db.VarChar(255)
    categoryId String   @db.VarChar(255)
    Event      Event    @relation(fields: [eventId], references: [id])
    Category   Category @relation(fields: [categoryId], references: [id])

    @@id([eventId, categoryId])
    @@map("events_categories")
}

model Category {
    id String @id @db.VarChar(255)

    events Event[] @relation("EventCategories")

    eventsCategories EventsCategories[]

    @@map("categories")
}
